<div  class="row" >
    <div class="container" >
        <div class="row no-gutters">
          <div class="col-md-4 border-right" id="chat-container">
            <div class="settings-tray">
              <img class="profile-image" src="https://www.clarity-enhanced.net/wp-content/uploads/2020/06/filip.jpg" alt="Profile img">
              <span class="settings-tray--right">
                <i class="material-icons">cached</i>
                <i class="material-icons">message</i>
                <i class="material-icons">menu</i>
              </span>
            </div>
            <div class="search-box">
              <div class="input-wrapper">
                <i class="material-icons">search</i>
                <input placeholder="Search here" type="text" [(ngModel)]="searchTerm">
              </div>
            </div>
            <ng-container *ngFor="let receiver of filteredUsersList" >
            <div class="friend-drawer friend-drawer--onhover" (click)="loadConversation(userID,receiver.id)">
              <img class="profile-image" src="https://www.clarity-enhanced.net/wp-content/uploads/2020/06/robocop.jpg" alt="">
              <div class="text">
                <h6>{{receiver.name}}</h6>
                <!--  <p class="text-muted">Last Message: {{ lastMessage.content}}</p> -->  <!-- this should contain getLastMessage() function -->
              </div>
              <span class="time text-muted small">13:21</span> <!-- this should contain lastCreatedFunction() and from base function -->
              <span class="time text-muted small">{{receiver.phonenumber}}</span>
            </div>
            <hr>
             </ng-container>
          </div>
          
          <div class="col-md-8" *ngIf="showChat">
            <div class="settings-tray">
                <div class="friend-drawer no-gutters friend-drawer--grey">
                <img class="profile-image" src="https://www.clarity-enhanced.net/wp-content/uploads/2020/06/robocop.jpg" alt="">
                <div class="text">
                  <h6>Robo Cop</h6>
                  <p class="text-muted">Layin' down the law since like before Christ...</p>
                </div>
                <span class="settings-tray--right">
                  <i class="material-icons">cached</i>
                  <i class="material-icons">message</i>
                  <i class="material-icons">menu</i>
                </span>
              </div>
            </div>
            <div class="chat-panel" >
                <div class="chat-messages" id="style-13">
                <div class="row no-gutters" *ngFor="let message of messages">
                  <div class="col-md-3" [ngClass]="{'offset-md-9': message.senderFK == this.userID}">
                    <div class="chat-bubble" [ngClass]="{'chat-bubble--right': message.senderFK === this.userID, 'chat-bubble--left': message.senderFK !== ReceiverId}">
                      <span *ngIf="message.isButton === 0">{{ message.content }}</span>
                      <!-- Display the button if the message is a button -->
                      
                    </div>
                    <button *ngIf="message.isButton === 1" class ="btn btn-primary" (click)="handleButtonClick(message.content)">
                      - Price: {{ message.content }}
                  </button>
                  </div>
                  </div>
             <!--  <div class="row no-gutters">
                <div class="col-md-3 offset-md-9">
                  <div class="chat-bubble chat-bubble--right">
                    Hello dude!
                  </div>
                </div>
              </div>
              <div class="row no-gutters">
                <div class="col-md-3 offset-md-9">
                  <div class="chat-bubble chat-bubble--right">
                    Hello dude!
                  </div>
                </div>
              </div>
              <div class="row no-gutters">
                <div class="col-md-3">
                  <div class="chat-bubble chat-bubble--left">
                    Hello dude!
                  </div>
                </div>
              </div>
              <div class="row no-gutters">
                <div class="col-md-3">
                  <div class="chat-bubble chat-bubble--left">
                    Hello dude!
                  </div>
                </div>
              </div>
              <div class="row no-gutters">
                <div class="col-md-3">
                  <div class="chat-bubble chat-bubble--left">
                    Hello dude!
                  </div>
                </div>
              </div>
              <div class="row no-gutters">
                <div class="col-md-3 offset-md-9">
                  <div class="chat-bubble chat-bubble--right">
                    Hello dude!
                  </div>
                </div>
              </div> -->
            </div>
              <div class="row">
                <div class="col-12">
                  <div class="chat-box-tray">
                  
                    <input [(ngModel)]="newMessage" type="text" placeholder="Type your message here...">
                    <i class="material-icons" style="cursor: pointer;" (click)="sendMessage()">send</i>
                   
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

</div>